# 컴퓨터 시스템의 계층 구조

## <h2 style="color: red;">***Summary***

<br>

### **운영체제의 구성**
- 커널(kernel)
    - OS의 핵심 기능을 실행하는 코드와 데이터
    - 부팅 후 메모리에 상주, 좁은 의미의 OS
    - 커널 코드는 함수들의 집합으로 구성
    - app은 커널 기능을 이용하기 위해 시스템 호출 사용(간접적으로 접근)
- 툴(tool)/GUI
    - 사용자가 컴퓨터를 편리하게 사용할 수 있도록 제공
- 장치 구동기(device driver)
    - 장치를 제어하고 입출력
    - 각 장치 제작자에 의해 작성되고 배포됨

ex) 작업 관리자, 디스크 정리, 파일 탐색기

<br><br>

## <h2 style="color: red;">***Details***

>## 운영체제
>### 응용 프로그램과 하드웨어의 인터페이스 역할

<br>

### **컴퓨터 시스템이 계층 구조를 갖는 이유**

- 계층간 독립성 확보
    - 사용자
        - OS나 HW에 대해 몰라도 응용프로그램으로 컴퓨터 활용
    - 응용프로그램
        - 컴퓨터 HW의 종류나 구조, 제어 방법을 몰라도 개발 가능
        - 운영체제에게 요청하여 해결
        - 컴퓨터 HW 변경시 응용프로그램 재작성할 필요 없음
    - 운영체제
        - 응용프로그램과 하드웨어 사이의 인터페이스
        - HW 장치과 관련된 모든 작업은 디바이스 드라이버에게 요청

<br><br>

### **운영체제가 왜 필요할까?**
>"내가 숨을 쉬고있나?" -> 확인하려면 코를 막아봐 🤣
- 운영체제가 없다면?
    - 응용 프로그램이나 사용자가 직접 HW를 제어해야 함
        - 하드웨어에 대한 지식, 충돌, 관리, 보안의 문제 발생
    - 욕구 충동 사례
        - 동시에 2개 이상의 ***프로그램을 실행***하고자 할 때
        - 응용프로그램 실행으로 ***메모리가 필요***할 때
        - 동시에 프린터에 ***출력***을 하려 할 때
        - 데이터를 ***파일에 기록***할 때
        - 키보드 ***입력이 발생***할 때
        - ...
- -> 자원에 대한 충돌 해결, 성능 최적화, 사용자의 시스템 사용의 효율화

<br><br>

## 운영체제와의 관계
<hr>

### **운영체제와 응용 프로그램 간의 관계**
- 응용 프로그램
    - 사용자가 컴퓨터를 활용하도록 작성된 프로그램
- 운영체제
    - 응용 프로그램이 직접 HW를 다루지 못하도록 차단
        - OS가 HW를 완벽히 독점
            - 응용 프로그램들 간에 HW 사용 충돌을 막기 위해
        - 응용 프로그램과 HW 사이의 인터페이스
            - app이 HW 사용하고자 할 때, 시스템 호출(system call)을 통해 OS에 요청, OS가 대신 조작
        - 응용 프로그램들의 실행 순서 제어
        - 응용 프로그램 간의 통신 중계

<br><br>

### **운영체제와 사용자와의 관계**
- 사용자는 app을 통해 컴퓨터 활용

<br>

- 사용자에 대한 OS의 역할
    - HW를 잘 모르는 사용자도 컴퓨터 사용 가능
    - 사용자가 HW 설치/변경하는 것에 도움
    - 사용자에게 편리한 인터페이스 제공
    - 컴퓨터 사용을 돕는 유틸리티 제공
    - 사용자 계정 관리
    - 사용자의 컴퓨터 사용 시간 등 통계 처리

<br><br>

### **운영체제와 하드웨어와의 관계**
- HW를 제어하는 것은 전적으로 OS의 책임
    - 모니터에 출력 처리
    - 키보드로부터 입력 처리
- 운영체제
    - 사용자/응용프로그램과 HW간의 매개체
    - HW 제어는 전적으로 OS의 기능
        - 보조저장장치에서 파일 읽거나 쓰기
        - 마우스/키보드 입력
        - 네트워크를 통한 데이터 송수신
        - 모니터에 다양한 정보 출력

<br><br>

## 운영체제의 주요 기능
<hr>

- 프로세스/스레드 관리
    - 실행, 일시 중지, 종료, 스케줄링, 컨텍스트 스위칭, 동기화 등
- 메모리 관리
    - 할당, 반환, 보호, 가상 메모리 등
- 파일/파일 시스템 관리
    - 생성, 저장, 읽기, 삭제, 이동, 파일 보호
- 입출력 장치 관리
    - 장치 제어, 입출력
- 사용자 인터페이스
- 네트워킹
- 보호 및 보안
    - 외부 공격이나 무단 침입으로부터 보호


<br><br>

## 운영체제 커널 인터페이스
<hr>

- HW와 app 간의 중계 역할 위해 제공
    - 시스템 호출(system call)
        - 커널 app 사이의 인터페이스
            - 시스템 호출 라이브러리를 통해 다양한 시스템 호출 함수 제공
        - app이 커널 코드를 실행하기 위해
    - 인터럽트(interrupt)
        - 커널과 HW 장치 사이의 인터페이스
            - 장치들이 입출력 완료/타이머 완료 등을 CPU에게 알리는 하드웨어적 방법
        - CPU는 하던 일을 중지하고, ISR 실행 후, 재개
        - 장치들의 비동기적 이벤트