# 명령어 사이클


## <h2 style="color: red;">***Details***


> 명령어(instruction)

- CPU가 해석하고 실행할 수 있는 기계 명령어
    - CPU 마다 명령 이름, 종류, 기계어 코드, 길이, 개수 등이 다 다름


<br><br>

> 명령어 사이클(instruction cycle)
- CPU 내에서 명령어를 수행하기 위한 일련의 반복 과정
    - 명령어 인출(Instruction Fetch) 사이클
    - 명령어 실행(Instruction execute) 사이클
- 컴퓨터는 전원이 켜진 이후 명렁어 사이클을 반복

<br><br>

> 메모리 할당
프로그램이 실행되기 위해 OS에 할당되는 공간
- 코드
    - 실행 코드를 이진비트열로 저장
    - PC라는 레지스터는 다음에 실행될 코드를 저장함
- 정적 데이터
    - 정적 변수(전역, 지역)를 저장
    - 프로그램의 시작과 끝에도 항상 유지되는 데이터
- 힙
    - 동적 할당 영역
    - 동적 할당이 될 때마다 메모리를 증가
- 스택
    - 함수의 복귀 주소 및 지역 변수를 저장하는 영역
    - 자동 할당된 영역
    - SP(Stack Pointer)레지스터는 현재 스택에 있는 메모리의 최상단을 가리키면서 스택에 메모리가 어디까지 저장되었는지 확인
    - 함수의 매개변수, 함수 안에서 사용되는 지역변수, 함수가 복귀를 할 때 돌아갈 위치에 대한 정보, 함수가 반환하는 값
    - 함수 호출과 복귀시 자동으로 메모리 할당과 해제가 일어남
    - 고정된 메모리가 아님
    - 스택은 OS에 의해 프로그램마다 메모리에 할당된 일부 영역일 뿐임

<br><br>

> 컨텍스트(context)
- 프로그램이 실행 중인 일체의 상황, 정보
    - CPU 레지스터들의 값
        - 이전의 실행 결과나 현재 실행에 사용될 데이터를 갖는 레지스터들: PC, IR, SP, ...
    - 메모리
        - 프로그램 코드, 정적 데이터, 동적할당된 값, 스택
- 축소 정의
    - 현재 CPU에 들어있는 레지스터의 값들
    - 메모리에 저장된 정보는 언제나 유지되므로

<br><br>

> 컨텍스트 스위칭
- 현재 실행중인 프로그램의 컨텍스트를 저장, 다른 프로그램의 저장된 컨텍스트 복원 과정


![img](2. 컴퓨터 시스템과 운영체제\명령어 사이클\img\컨텍스트 스위칭.png)

<br><br>

> 멀티 코어 CPU(Multi-core CPU)
- CPU 내부에 2개의 프로세서(processor) 포함
    - 2개의 명령어를 동시에 실행
    - 코어는 완벽한 처리기, 과거 개념의 CPU
    - 2001, IBM에 의해 PowerPC라는 멀티코어 CPU 개발