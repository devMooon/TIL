# 09 리소스 활용하기

# 09-1 리소스의 종류와 특징

### 리소스(resource)란? 정적 자원을 의미한다.

앱이 동작하면서 동적으로 발생하거나 변경되는 콘텐츠는 코드로 작성한다.

변경되지 않는 콘텐츠는 코드에 작성하지 않고 리소스로 분리해서 외부 파일로 만들어 이용할 수 있다.

리소스를 이용하면 조금 더 간결하게 작성할 수 있고, 프로그램 유지보수가 쉬워진다.

### 리소스의 구분

- 리소스
    - 앱 리소스
    - 플랫폼 리소스

## 앱 리소스 사용하기

앱 리소스란 개발자가 직접 추가한 리소스를 의미한다.

앱을 개발하기 위해 모듈을 만들면 자동으로 res라는 디렉터리가 생기고 그 아래 drawable, layout, mipmap, value라는 디렉터리 4개가 생성된다. 이 기본 디렉터리 이외에 더 많은 디렉터리를 만들어 쓸 수 있다.

리소스 파일의 종류는 리소스 디렉터리의 종류보다 더 많으며, 개발자는 리소스 디렉터리에 리소스 파일을 각각 만든다.

[안드로이드 앱의 리소스 종류](https://www.notion.so/d2e1d3f7a2e24609ac3c9c3d2a72048a)

## 리소스 디렉터리와 파일 이름의 규칙

- 위의 표에 있는 디렉터리명은 고정이며 res 디렉터리 아래에 개빌자가 임의로 이름을 붙인 디렉터리를 만들 수 없고 하위 디렉터리 역시 추가할 수 없다.
- 리소스 파일명은 values에 추가하는 파일을 제외하고는 모두 자바의 이름 작성 규칙을 지켜야하며 알파벳 배문자를 사용할 수 없다.
- 이런 규칙이 있는 이유는 리소스 디렉터리와 파일을 코드에서 그대로 사용하지 않고 R 파일에 식별자로 등록해서 이용하기 때문이다.

## 리소스 디렉터리의 종류

### 레이아웃 리소스 - layout 디렉터리

- 화면을 구성하는 레이아웃 XML 파일을 저장하는 디렉터리이다.

### 이미지 리소스 - drawable 디렉터리

- 이미지 리소스를 저장하는 디렉털
- PNG, JPG, GIF, 9.PNG, XML

- XML 태그

| 태그 | 설명 |
| --- | --- |
| <shape> | 도형을 의미하며 android:shape=”rectangle”처럼 shape 속성을 이용해 도형의 타입을 지정. shape값은 rectangle, oval, line, ring 중에서 선택할 수 있음 |
| <corners> | 둥근 모서리를 그리는 데 사용. shape 값이 rectangle일 때만 적용 |
| <gradient> | 그라데이션 색상 지정 |
| <size> | 도형의 크기 지정 |
| <solid> | 도형의 색상 지정 |
| <stroke> | 도형의 윤곽선 지정 |

### 실행 아이콘 리소스 - mipmap 디렉터리

- 앱을 기기에 설치하면 나타나는 실행 아이콘의 이미지 이소스가 저장되는 디렉터리

### 값 리소스 - values 디렉터리

- 값으로 이용되는 리소스를 저장하는 디렉터리
- 문자열, 색상, 크기, 스타일, 배열 등의 값을 XML로 저장할 수 있다.
- 다른 리소스 디렉터리에 저장되는 리소스는 파일명이 R인 파일에 식별자로 추가되므로 코드에서 R 식별자로 구분해서 사용해야 하는데, values에 저장되는 리소스는 다른 디렉터리의 리소스와 이용 방법이 다르다.
- values 디렉터리의 리소스 파일은 파일명이 R인 파일에 식별자로 등록되지 않고 이소스 파일에 값을 지정한 태그의 name 속성값이 등록된다. 따라서 values 디렉터리에 있는 colors.xml, string.xml등의 파일명은 권장할 뿐 개발자가 자유롭게 정할 수 있으며 알파벳 대문자를 이용할 수도 있다.
- XML 태그

| 태그 | 설명 |
| --- | --- |
| <string> | 문자열 리소스 |
| <color> | 색상 리소스 |
| <dimen> | 크기 리소스 |
| <style> | 스타일 리소스. 부에 설정되는 여러 속성을 스타일에 등록하여 한꺼번에 적용하거나 여러 뷰에 중복되는 속성을 스타일로 정의해 재사용하는 용도로 쓰임.
스타일을 정의할 때는 다른 스타일을 상속받아 재정의할 수 있음.(parent 속성 사용) |

### 사용 예

**string 리소스 파일에서 문자열 리소스 등록**

```kotlin
<resources>
	<string name="app_name">Test</string>
</resources>
```

**레이아웃 XML에서 사용**

```kotlin
<TextView>
	android:text="@string/app_neme" />
```

**코드에서 사용**

```kotlin
binding.textView.text = getString(R.string.app_name)
```

### 색상 리소스 - color 디렉터리

- 색상을 등록하는 리소스
- values의 리소스 파일에서 <color> 태그와는 무슨 차이?
    - 모든 색상을 values 디렉터리에 등록해서 사용할 수 있다. 그런데 이 리소스는 색상 하나를 리소스에 등록해 사용하는 것이다.
    - 반면 color 디렉터리의 리소스는 특정 뷰의 상태를 표현하고, 그 상태에 적용되는 색상을 등록할 때 사용한다.
    - 예를들어 버튼을 눌렀을 때와 누르지 않았을 때의 색상을 리소스로 등록 하려면 버튼의 상태에 따른 색상을 하나의 XML에 등록해 적용하면 더 편리하다. 이 때 color 디렉터리를 이용한다.
- <selector> 태그 아래에 <item> 태그를 이용해 이 리소스가 적용될 뷰의 상태와 그 생태일 때의 색상을 지정한다.

### 글꼴 리소스 - font 디렉터리

- 글꼴 리소스를 저장한다.
- TTF나 OTF 파일을 저장한 후 글꼴을 적용할 뷰에서 이용하면 됨

## 플랫폼 리소스 사용하기

- 개발자가 리소스를 따로 준비하지 않아도 이미 안드로이드 플랫폼이 제공하는 많은 리소스가 있다.
- 플랫폼 리소스는 안드로이드 스튜디오의 프로젝트 탐색 창에서 보기 옵션을 [Packages]로 설정한 후 [Libraries] 항목을 살펴보면 확인할 수 있다.
- 플랫폼 리소스도 R 파일에 등록된 식별자로 이용 가능.
- 그런데 플랫폼 리소스는 앱에 있는 리소스가 아니므로 앱의 R 파일이 아니라 android.R이라는 파일을 이용해 플랫폼 리소스를 이용할 수 있다.
- 사용 예

```kotlin
<ImageView>
	android:src="@android:drawable/alert_dark_frame" />
```

# 09-2 리소스 조건 설정

### 리소스 조건 설정이란?

- 어떤 리소스를 특정 환경에서만 적용되도록 설정하는 것
- 코드로 알고리즘을 짤 필요가 없이 이미 다양한 조건이 지정 되어있고, 적용할 조건만 설정하면 됨
- 다른 디렉터리에 같은 파일명의 리소스를 저장
    - 리소스 디렉터리 명: **리소스 종류-리소스 조건**
        - ex) mipmap-mdpi, mippap-hdpi
- 조건을 디렉터리에 명시할 때 하나의 디렉터리에 여러 조건을 지정해도 됨. 하지만 조건 순서를 꼭 지켜야 한다.

### 리소스 조건 설정의 예

- 화면 회전에 대응하기
    - 세로, 가로 방향일 때 출력할 레이아웃 XML 파일을 각각 준비해야 한다.
    - 각각의 XML을 파일을 가로용인지 세로용인지 구분해야 하는데, 이때 리소스 조건을 사용한다.
    - 가로는 layout-land 디렉터리에 저장해서 조건을 줌
    - 세로는 default
- 국제 언어 제공하기
    
    

# 09-3 폰 크기의 호환성

### 논리적인 단위 알아보기

- 기기의 크기
    - dpi(dots per inch): 1인치 안에 있는 도트의 개수

| 크기 | 설명 |
| --- | --- |
| ldpi | 저밀도 화면이며 ~ 120dpi |
| mdpi | 중밀도 화면이며 ~ 160dpi |
| hdpi | 고밀도 화면이며 ~ 240dpi |
| xhdpi | 초고밀도 화면이며 ~ 320dpi |
| xxhdpi | 초초고밀도 화면이며 ~ 480dpi |
| xxxhdpi | 초초초고밀도 화면이며 ~ 640dpi |
- 논리적인 단위

| 단위 | 설명 |
| --- | --- |
| dp(dip: density-independent pixels) | 스크린의 물리적 밀도에 기반을 둔 단위(일반 크기) |
| sp(sip: scale-independent pixels) | dp와 유사하며 글꼴 크기에 적용(글꼴 크기) |
| pt(points) | 스크린 크리의 1/72을 1pt로 함 |
| px | 픽셀 |
| mm | 밀리미터 |
| in | 인치 |

### 화면 정보 가져오기

- 안드로이드 시스템은 기본으로 크기 호환성을 지원하지만 때로는 개발자가 직접 코드에서 조정할 수도 있다. 조정하기 위해서는 크기 정보를 가져와야 한다.
- API 레벨 30 이전 버전: DisplayMetrics
- API 레벨 30 이후 버전: WindowMetrics 이용